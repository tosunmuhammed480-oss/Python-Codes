import requests

print("ğŸŒ¦  HAVA DURUMU UYGULAMASI (API KEY YOK) ğŸŒ¦")

city = input("Åehir adÄ± gir (Ã¶rn: konya): ")

# ğŸ” 1) Åehri koordinata Ã§evir (Open-Meteo Geocoding, API key istemez)
geo_url = "https://geocoding-api.open-meteo.com/v1/search"
geo_params = {
    "name": city,
    "count": 1,
    "language": "tr",
    "format": "json"
}

geo_response = requests.get(geo_url, params=geo_params)

if geo_response.status_code != 200 or "results" not in geo_response.json():
    print("âš ï¸ Åehir bulunamadÄ±!")
    exit()

geo_data = geo_response.json()["results"][0]
lat = geo_data["latitude"]
lon = geo_data["longitude"]

# ğŸŒ¤ 2) Hava durumu verisi al
weather_url = "https://api.open-meteo.com/v1/forecast"
weather_params = {
    "latitude": lat,
    "longitude": lon,
    "current_weather": True
}

weather_response = requests.get(weather_url, params=weather_params)
weather_data = weather_response.json()

temp = weather_data["current_weather"]["temperature"]
wind = weather_data["current_weather"]["windspeed"]

print(f"\nğŸ“ Åehir: {city.capitalize()}")
print(f"ğŸŒ¡ï¸ SÄ±caklÄ±k: {temp}Â°C")
print(f"ğŸ’¨ RÃ¼zgar: {wind} km/s")
print("âœ… Veri baÅŸarÄ±yla getirildi!")
